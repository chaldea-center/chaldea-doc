# 导入数据

本应用提供了多种导入数据或迁移数据的方法。省去重复录入和大量手工录入的麻烦。

导入前请确认当前账号是否是目标账号。

## 导入本应用的备份

本应用所有数据均存于`root_path/user/userdata.json`文件中。

用户备份数据的方式有:

- 用户可自行备份上述 json 文件
- **设置-用户数据**中的备份功能
- **设置-用户数据-历史备份**: 每日备份(自动)

导入以上任意 json 文件可恢复备份。

另可通过服务器 **上传备份&下载备份**。

::: warning
不同 APP 版本可能使用不同用户数据结构，即可能存在格式不兼容。
:::

## HTTPS 抓包

- 日服/美服：不支持官方客户端，可以使用[账号文件登陆](./import_https/authfile_login.md)。
- 国服/台服：支持官方客户端抓包，Android和iOS均可。

详见[导入抓包](./import_https/)。

## 素材截图解析 {#item-screenshots}

::: warning
不要裁剪，不要分屏，保证全屏游戏并截图。一次上传图片数量不要太多，100 秒超时失败！
:::

1. 前往 **个人空间-道具一览** 截图
2. 然后再应用内导入这些截图并上传至服务器识别
3. 在**识别结果**中预览结果，若识别错误，请自行修改
4. 检查无误，选择更新素材，仅更新识别到的素材，未检测到的素材保持原来数量

![素材截图范例](/images/item_recognition_example.webp)

<figcaption style="text-align:center">素材截图范例</figcaption>

## 技能截图解析 {#skill-recognition}

::: warning
不要裁剪，不要分屏，保证全屏游戏并截图。一次上传图片数量不要太多，100 秒超时失败！
:::

1. 前往 **强化-从者技能强化/附加技能强化**，在选择从者页面截图！！！不要在选择种火/从者处截图！不要在选中某个从者后截图！不要还在战斗中就截图！不要自拍！~~无奇不有~~
   - 为了提高之别准确率，建议图标排列密度显示为中等(左下角方块按钮调解从者图标密度)
2. 同上，导入截图后上传至服务器解析。
3. 识别结果预览，可自行修正识别错误的地方。
   - 识别失败（包括头像识别失败、技能识别失败为-1）时该从者不可导入
   - 一般多张截图会存在重复从者，仅导入最后一名，可自行去除勾选重复的结果

- 目前仅支持技能等级识别，不支持再临等级~~怎么还没全迦满破~~或圣杯等级识别。

![技能截图范例](/images/skill_recognition_example.webp)

<figcaption style="text-align:center">技能截图范例</figcaption>

## FGO Simulator - Material

导入<http://fgosimulator.webcrow.jp/Material/>的数据。

新版网站<https://fgosim.github.io/Material>

1. 在网站上点击 **My Chaldea-引継ぎコード**, 选择**発行**，将素材或从者信息粘贴至应用内文本框
2. 点击解析数据自动解析从者信息或素材信息，导入即可

## CSV 模板 {#csv-template}

鉴于在 app 内输入数据时一件非常繁琐且低效的事，对桌面端也不太友好，
因此可以将数据导出成 csv 表格，在其他表格软件如 Excel 等自行编辑，

带修改完后重新保存为 csv 文件，在应用内导入。

::: tip
没怎么测试过，也没人用过。注意灵衣和纹章相关是 json 格式，不了解的请勿修改导致格式出错。
:::
